name = "cmdr-license-server"
main = "src/index.ts"
compatibility_date = "2025-01-01"

# KV namespace for storing license code -> full key mappings
# Local dev: wrangler automatically simulates KV (ID is ignored)
# Production: Run ./scripts/setup-cf-infra.sh to create namespace and update this ID
[[kv_namespaces]]
binding = "LICENSE_CODES"
id = "64418f5cb33e4c629fe0ccf51be76399"

[vars]
# Non-secret config
PRODUCT_NAME = "Cmdr"
SUPPORT_EMAIL = "veszelovszki@gmail.com"

# Secrets (set via `wrangler secret put <NAME>`):
# - PADDLE_WEBHOOK_SECRET_LIVE     (from Paddle live dashboard)
# - PADDLE_WEBHOOK_SECRET_SANDBOX  (from Paddle sandbox dashboard)
# - PADDLE_API_KEY_LIVE            (from Paddle live dashboard - for /validate)
# - PADDLE_API_KEY_SANDBOX         (from Paddle sandbox dashboard - for /validate)
# - ED25519_PRIVATE_KEY            (from generate-keys script)
# - RESEND_API_KEY                 (from resend.com)
# - PRICE_ID_SUPPORTER             (Price ID for $10 supporter product)
# - PRICE_ID_COMMERCIAL_SUBSCRIPTION (Price ID for $59/yr subscription)
# - PRICE_ID_COMMERCIAL_PERPETUAL  (Price ID for $199 perpetual)
